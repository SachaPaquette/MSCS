<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:settings="clr-namespace:MSCS.Views.Settings"
                    xmlns:viewModels="clr-namespace:MSCS.ViewModels.Settings">
    <DataTemplate DataType="{x:Type viewModels:UpdateSettingsSectionViewModel}">
        <settings:SettingsSection Title="{Binding Title}"
                                  Description="{Binding Description}">
            <StackPanel>
                <TextBlock Text="{Binding InstalledVersionDisplay}"
                           Style="{DynamicResource SettingsHelperTextStyle}"/>

                <Button Content="Check for updates"
                        Margin="{DynamicResource SettingsSectionSpacing}"
                        Style="{DynamicResource AccentButton}"
                        Command="{Binding CheckForUpdatesCommand}"/>

                <TextBlock Text="{Binding StatusMessage}"
                           Margin="{DynamicResource SettingsSectionSpacing}"
                           Foreground="{DynamicResource Fg}">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock">
                            <Setter Property="Visibility" Value="Visible"/>
                            <Style.Triggers>
                                <Trigger Property="Text" Value="">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </Trigger>
                                <DataTrigger Binding="{Binding StatusMessage}" Value="{x:Null}">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>

                <TextBlock Text="{Binding LastCheckedDisplay}"
                           Margin="{DynamicResource SettingsSmallTopSpacing}"
                           Foreground="{DynamicResource FgMuted}">
                    <TextBlock.Style>
                        <Style TargetType="TextBlock">
                            <Setter Property="Visibility" Value="Visible"/>
                            <Style.Triggers>
                                <Trigger Property="Text" Value="">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </Trigger>
                                <DataTrigger Binding="{Binding LastCheckedDisplay}" Value="{x:Null}">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </TextBlock.Style>
                </TextBlock>
            </StackPanel>
        </settings:SettingsSection>
    </DataTemplate>
</ResourceDictionary>