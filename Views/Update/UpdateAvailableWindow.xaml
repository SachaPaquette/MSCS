<Window x:Class="MSCS.Views.Update.UpdateAvailableWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="{Binding WindowTitle}"
        SizeToContent="WidthAndHeight"
        ResizeMode="NoResize"
        WindowStartupLocation="CenterOwner"
        ShowInTaskbar="False"
        WindowStyle="ToolWindow"
        Background="{DynamicResource SurfaceLow}"
        Foreground="{DynamicResource Fg}">
    <Border Padding="24" CornerRadius="12" Background="{DynamicResource SurfaceLow}">
        <Border.Effect>
            <DropShadowEffect BlurRadius="12" ShadowDepth="0" Opacity="0.35"/>
        </Border.Effect>
        <StackPanel Width="320" MinWidth="300">
            <StackPanel Margin="0,0,0,16">
                <TextBlock Text="{Binding UpdateHeadline}"
                           FontSize="18"
                           FontWeight="SemiBold"
                           Margin="0,0,0,4"/>
                <TextBlock Text="{Binding UpdateDescription}"
                           TextWrapping="Wrap"
                           Foreground="{DynamicResource FgMuted}"/>
            </StackPanel>

            <Border Background="{DynamicResource Surface}" Padding="16" CornerRadius="10" Margin="0,0,0,16">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="8"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <TextBlock Text="{Binding CurrentVersionLabel}" FontWeight="SemiBold"/>
                    <TextBlock Grid.Column="1"
                               Text="{Binding CurrentVersionDisplay}"
                               HorizontalAlignment="Right"
                               TextWrapping="Wrap"
                               TextAlignment="Right"/>

                    <TextBlock Grid.Row="2" Text="{Binding LatestVersionLabel}" FontWeight="SemiBold"/>
                    <TextBlock Grid.Row="2"
                               Grid.Column="1"
                               Text="{Binding LatestVersionDisplay}"
                               HorizontalAlignment="Right"
                               TextWrapping="Wrap"
                               TextAlignment="Right"/>
                </Grid>
            </Border>

            <Button Content="Download Now"
                    Style="{DynamicResource AccentButtonStyle}"
                    Command="{Binding DownloadCommand}"
                    HorizontalAlignment="Stretch"/>
        </StackPanel>
    </Border>
</Window>